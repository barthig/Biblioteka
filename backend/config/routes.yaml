# Central routing configuration (replaces annotation-based mappings)

# Healthcheck
health_check:
  path: /health
  controller: App\Controller\HealthController::health
  methods: [GET]

# Authentication
api_auth_login:
  path: /api/auth/login
  controller: App\Controller\AuthController::login
  methods: [POST]

api_auth_profile:
  path: /api/auth/profile
  controller: App\Controller\AuthController::profile
  methods: [GET]

# Dashboard overview
api_dashboard_overview:
  path: /api/dashboard
  controller: App\Controller\DashboardController::overview
  methods: [GET]

# User facing queries
api_users_list:
  path: /api/users
  controller: App\Controller\UserController::list
  methods: [GET]

api_users_get:
  path: /api/users/{id}
  controller: App\Controller\UserController::getUserById
  methods: [GET]
  requirements:
    id: '[0-9]+'

# User management (staff only)
api_users_create:
  path: /api/users
  controller: App\Controller\UserManagementController::create
  methods: [POST]

api_users_update:
  path: /api/users/{id}
  controller: App\Controller\UserManagementController::update
  methods: [PUT]
  requirements:
    id: '[0-9]+'

api_users_delete:
  path: /api/users/{id}
  controller: App\Controller\UserManagementController::delete
  methods: [DELETE]
  requirements:
    id: '[0-9]+'

api_users_block:
  path: /api/users/{id}/block
  controller: App\Controller\UserManagementController::block
  methods: [POST]
  requirements:
    id: '[0-9]+'

api_users_unblock:
  path: /api/users/{id}/block
  controller: App\Controller\UserManagementController::unblock
  methods: [DELETE]
  requirements:
    id: '[0-9]+'

api_users_permissions_update:
  path: /api/users/{id}/permissions
  controller: App\Controller\UserManagementController::updatePermissions
  methods: [PUT]
  requirements:
    id: '[0-9]+'

# Authentication
api_auth_register:
  path: /api/auth/register
  controller: App\Controller\RegistrationController::register
  methods: [POST]

api_auth_verify:
  path: /api/auth/verify/{token}
  controller: App\Controller\RegistrationController::verify
  methods: [GET]

# Books catalogue management
api_books_list:
  path: /api/books
  controller: App\Controller\BookController::list
  methods: [GET]

api_books_filters:
  path: /api/books/filters
  controller: App\Controller\BookController::filters
  methods: [GET]

api_books_recommended:
  path: /api/books/recommended
  controller: App\Controller\BookController::recommended
  methods: [GET]

api_books_get:
  path: /api/books/{id}
  controller: App\Controller\BookController::getBook
  methods: [GET]
  requirements:
    id: '[0-9]+'

api_books_create:
  path: /api/books
  controller: App\Controller\BookController::create
  methods: [POST]

api_books_update:
  path: /api/books/{id}
  controller: App\Controller\BookController::update
  methods: [PUT]
  requirements:
    id: '[0-9]+'

api_books_delete:
  path: /api/books/{id}
  controller: App\Controller\BookController::delete
  methods: [DELETE]
  requirements:
    id: '[0-9]+'

# Book inventory management (staff)
api_admin_book_copies_list:
  path: /api/admin/books/{id}/copies
  controller: App\Controller\BookInventoryController::list
  methods: [GET]
  requirements:
    id: '[0-9]+'

api_admin_book_copies_create:
  path: /api/admin/books/{id}/copies
  controller: App\Controller\BookInventoryController::create
  methods: [POST]
  requirements:
    id: '[0-9]+'

api_admin_book_copy_update:
  path: /api/admin/books/{id}/copies/{copyId}
  controller: App\Controller\BookInventoryController::update
  methods: [PUT]
  requirements:
    id: '[0-9]+'
    copyId: '[0-9]+'

api_admin_book_copy_delete:
  path: /api/admin/books/{id}/copies/{copyId}
  controller: App\Controller\BookInventoryController::delete
  methods: [DELETE]
  requirements:
    id: '[0-9]+'
    copyId: '[0-9]+'

# Digital asset management
api_admin_book_assets_list:
  path: /api/admin/books/{id}/assets
  controller: App\Controller\BookAssetController::list
  methods: [GET]
  requirements:
    id: '[0-9]+'

api_admin_book_assets_upload:
  path: /api/admin/books/{id}/assets
  controller: App\Controller\BookAssetController::upload
  methods: [POST]
  requirements:
    id: '[0-9]+'

api_admin_book_assets_download:
  path: /api/admin/books/{id}/assets/{assetId}
  controller: App\Controller\BookAssetController::download
  methods: [GET]
  requirements:
    id: '[0-9]+'
    assetId: '[0-9]+'

api_admin_book_assets_delete:
  path: /api/admin/books/{id}/assets/{assetId}
  controller: App\Controller\BookAssetController::delete
  methods: [DELETE]
  requirements:
    id: '[0-9]+'
    assetId: '[0-9]+'

# Catalog import/export
api_admin_catalog_export:
  path: /api/admin/catalog/export
  controller: App\Controller\CatalogAdminController::export
  methods: [GET]

api_admin_catalog_import:
  path: /api/admin/catalog/import
  controller: App\Controller\CatalogAdminController::import
  methods: [POST]

# System administration
api_admin_system_settings_list:
  path: /api/admin/system/settings
  controller: App\Controller\Admin\SystemConfigController::list
  methods: [GET]

api_admin_system_settings_create:
  path: /api/admin/system/settings
  controller: App\Controller\Admin\SystemConfigController::create
  methods: [POST]

api_admin_system_settings_update:
  path: /api/admin/system/settings/{key}
  controller: App\Controller\Admin\SystemConfigController::update
  methods: [PUT]

api_admin_system_roles_list:
  path: /api/admin/system/roles
  controller: App\Controller\Admin\RoleAdminController::list
  methods: [GET]

api_admin_system_roles_create:
  path: /api/admin/system/roles
  controller: App\Controller\Admin\RoleAdminController::create
  methods: [POST]

api_admin_system_roles_update:
  path: /api/admin/system/roles/{roleKey}
  controller: App\Controller\Admin\RoleAdminController::update
  methods: [PUT]

api_admin_system_roles_assign:
  path: /api/admin/system/roles/{roleKey}/assign
  controller: App\Controller\Admin\RoleAdminController::assign
  methods: [POST]

api_admin_system_integrations_list:
  path: /api/admin/system/integrations
  controller: App\Controller\Admin\IntegrationAdminController::list
  methods: [GET]

api_admin_system_integrations_create:
  path: /api/admin/system/integrations
  controller: App\Controller\Admin\IntegrationAdminController::create
  methods: [POST]

api_admin_system_integrations_update:
  path: /api/admin/system/integrations/{id}
  controller: App\Controller\Admin\IntegrationAdminController::update
  methods: [PUT]
  requirements:
    id: '[0-9]+'

api_admin_system_integrations_test:
  path: /api/admin/system/integrations/{id}/test
  controller: App\Controller\Admin\IntegrationAdminController::testConnection
  methods: [POST]
  requirements:
    id: '[0-9]+'

api_admin_system_backups_list:
  path: /api/admin/system/backups
  controller: App\Controller\Admin\SecurityAdminController::listBackups
  methods: [GET]

api_admin_system_backups_create:
  path: /api/admin/system/backups
  controller: App\Controller\Admin\SecurityAdminController::createBackup
  methods: [POST]

api_admin_system_logs_view:
  path: /api/admin/system/logs
  controller: App\Controller\Admin\SecurityAdminController::viewLogs
  methods: [GET]

# Acquisitions - suppliers
api_acquisitions_suppliers_list:
  path: /api/admin/acquisitions/suppliers
  controller: App\Controller\AcquisitionSupplierController::list
  methods: [GET]

api_acquisitions_suppliers_create:
  path: /api/admin/acquisitions/suppliers
  controller: App\Controller\AcquisitionSupplierController::create
  methods: [POST]

api_acquisitions_suppliers_update:
  path: /api/admin/acquisitions/suppliers/{id}
  controller: App\Controller\AcquisitionSupplierController::update
  methods: [PUT]
  requirements:
    id: '[0-9]+'

api_acquisitions_suppliers_deactivate:
  path: /api/admin/acquisitions/suppliers/{id}
  controller: App\Controller\AcquisitionSupplierController::deactivate
  methods: [DELETE]
  requirements:
    id: '[0-9]+'

# Acquisitions - orders
api_acquisitions_orders_list:
  path: /api/admin/acquisitions/orders
  controller: App\Controller\AcquisitionOrderController::list
  methods: [GET]

api_acquisitions_orders_create:
  path: /api/admin/acquisitions/orders
  controller: App\Controller\AcquisitionOrderController::create
  methods: [POST]

api_acquisitions_orders_status:
  path: /api/admin/acquisitions/orders/{id}/status
  controller: App\Controller\AcquisitionOrderController::updateStatus
  methods: [PUT]
  requirements:
    id: '[0-9]+'

api_acquisitions_orders_receive:
  path: /api/admin/acquisitions/orders/{id}/receive
  controller: App\Controller\AcquisitionOrderController::receive
  methods: [POST]
  requirements:
    id: '[0-9]+'

api_acquisitions_orders_cancel:
  path: /api/admin/acquisitions/orders/{id}/cancel
  controller: App\Controller\AcquisitionOrderController::cancel
  methods: [POST]
  requirements:
    id: '[0-9]+'

# Acquisitions - budgets
api_acquisitions_budgets_list:
  path: /api/admin/acquisitions/budgets
  controller: App\Controller\AcquisitionBudgetController::list
  methods: [GET]

api_acquisitions_budgets_create:
  path: /api/admin/acquisitions/budgets
  controller: App\Controller\AcquisitionBudgetController::create
  methods: [POST]

api_acquisitions_budgets_update:
  path: /api/admin/acquisitions/budgets/{id}
  controller: App\Controller\AcquisitionBudgetController::update
  methods: [PUT]
  requirements:
    id: '[0-9]+'

api_acquisitions_budgets_expense:
  path: /api/admin/acquisitions/budgets/{id}/expenses
  controller: App\Controller\AcquisitionBudgetController::addExpense
  methods: [POST]
  requirements:
    id: '[0-9]+'

api_acquisitions_budgets_summary:
  path: /api/admin/acquisitions/budgets/{id}/summary
  controller: App\Controller\AcquisitionBudgetController::summary
  methods: [GET]
  requirements:
    id: '[0-9]+'

# Acquisitions - weeding
api_acquisitions_weeding_list:
  path: /api/admin/acquisitions/weeding
  controller: App\Controller\WeedingController::list
  methods: [GET]

api_acquisitions_weeding_create:
  path: /api/admin/acquisitions/weeding
  controller: App\Controller\WeedingController::create
  methods: [POST]

# Account management
api_account_me:
  path: /api/me
  controller: App\Controller\AccountController::me
  methods: [GET]

api_account_update:
  path: /api/me
  controller: App\Controller\AccountController::update
  methods: [PUT]

api_account_password:
  path: /api/me/password
  controller: App\Controller\AccountController::changePassword
  methods: [PUT]

# Loan operations
api_loans_list:
  path: /api/loans
  controller: App\Controller\LoanController::list
  methods: [GET]

api_loans_get:
  path: /api/loans/{id}
  controller: App\Controller\LoanController::getLoan
  methods: [GET]
  requirements:
    id: '[0-9]+'

api_loans_create:
  path: /api/loans
  controller: App\Controller\LoanController::create
  methods: [POST]

api_loans_by_user:
  path: /api/loans/user/{id}
  controller: App\Controller\LoanController::listByUser
  methods: [GET]
  requirements:
    id: '[0-9]+'

api_loans_return:
  path: /api/loans/{id}/return
  controller: App\Controller\LoanController::returnLoan
  methods: [PUT]
  requirements:
    id: '[0-9]+'

api_loans_extend:
  path: /api/loans/{id}/extend
  controller: App\Controller\LoanController::extend
  methods: [PUT]
  requirements:
    id: '[0-9]+'

api_loans_delete:
  path: /api/loans/{id}
  controller: App\Controller\LoanController::delete
  methods: [DELETE]
  requirements:
    id: '[0-9]+'

# Reservations
api_reservations_list:
  path: /api/reservations
  controller: App\Controller\ReservationController::list
  methods: [GET]

api_reservations_create:
  path: /api/reservations
  controller: App\Controller\ReservationController::create
  methods: [POST]

api_reservations_cancel:
  path: /api/reservations/{id}
  controller: App\Controller\ReservationController::cancel
  methods: [DELETE]
  requirements:
    id: '[0-9]+'

# Fines
api_fines_list:
  path: /api/fines
  controller: App\Controller\FineController::list
  methods: [GET]

api_fines_create:
  path: /api/fines
  controller: App\Controller\FineController::create
  methods: [POST]

api_fines_cancel:
  path: /api/fines/{id}
  controller: App\Controller\FineController::cancel
  methods: [DELETE]
  requirements:
    id: '[0-9]+'

# Favorites
api_favorites_list:
  path: /api/favorites
  controller: App\Controller\FavoriteController::list
  methods: [GET]

api_favorites_add:
  path: /api/favorites
  controller: App\Controller\FavoriteController::add
  methods: [POST]

api_favorites_remove:
  path: /api/favorites/{bookId}
  controller: App\Controller\FavoriteController::remove
  methods: [DELETE]
  requirements:
    bookId: '[0-9]+'

# Reviews
api_reviews_list:
  path: /api/books/{id}/reviews
  controller: App\Controller\ReviewController::list
  methods: [GET]
  requirements:
    id: '[0-9]+'

api_reviews_upsert:
  path: /api/books/{id}/reviews
  controller: App\Controller\ReviewController::upsert
  methods: [POST]
  requirements:
    id: '[0-9]+'

api_reviews_delete:
  path: /api/books/{id}/reviews
  controller: App\Controller\ReviewController::delete
  methods: [DELETE]
  requirements:
    id: '[0-9]+'

api_fines_pay:
  path: /api/fines/{id}/pay
  controller: App\Controller\FineController::pay
  methods: [POST]
  requirements:
    id: '[0-9]+'

# Notifications
api_notifications_list:
  path: /api/notifications
  controller: App\Controller\NotificationController::list
  methods: [GET]

api_notifications_test:
  path: /api/notifications/test
  controller: App\Controller\NotificationController::triggerTest
  methods: [POST]

# Reports
api_reports_usage:
  path: /api/reports/usage
  controller: App\Controller\ReportController::usage
  methods: [GET]

api_reports_export:
  path: /api/reports/export
  controller: App\Controller\ReportController::export
  methods: [GET]

api_reports_popular_titles:
  path: /api/reports/circulation/popular
  controller: App\Controller\ReportController::popularTitles
  methods: [GET]

api_reports_patron_segments:
  path: /api/reports/patrons/segments
  controller: App\Controller\ReportController::patronSegments
  methods: [GET]

api_reports_financial:
  path: /api/reports/financial
  controller: App\Controller\ReportController::financialSummary
  methods: [GET]

api_reports_inventory:
  path: /api/reports/inventory
  controller: App\Controller\ReportController::inventoryOverview
  methods: [GET]

# Settings
api_settings_get:
  path: /api/settings
  controller: App\Controller\SettingsController::getSettings
  methods: [GET]

api_settings_update:
  path: /api/settings
  controller: App\Controller\SettingsController::updateSettings
  methods: [PATCH]

# Audit Logs
api_audit_logs_list:
  path: /api/audit-logs
  controller: App\Controller\AuditLogController::list
  methods: [GET]

api_audit_logs_entity_history:
  path: /api/audit-logs/entity/{entityType}/{entityId}
  controller: App\Controller\AuditLogController::entityHistory
  methods: [GET]
  requirements:
    entityId: '[0-9]+'

# API documentation
api_docs_json:
  path: /api/docs.json
  controller: nelmio_api_doc.controller.swagger
  defaults:
    _format: json

api_docs_ui:
  path: /api/docs
  controller: nelmio_api_doc.controller.swagger_ui
